<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>{% block title %}Social Profile{% endblock %}</title>
        <style>
            body { font-family: sans-serif; margin: 0; padding: 0; background: #f5f5f5; }
            nav { background: #333; color: #fff; padding: 10px 20px; display: flex; gap: 15px; align-items: center; }
            nav a { color: #fff; text-decoration: none; }
            nav a:hover { text-decoration: underline; }
            nav .spacer { flex-grow: 1; }
            .container { max-width: 800px; margin: 20px auto; padding: 0 20px; }
            .flash-success { background: #d4edda; color: #155724; padding: 10px; border-radius: 4px; margin-bottom: 15px; }
            .flash-error { background: #f8d7da; color: #721c24; padding: 10px; border-radius: 4px; margin-bottom: 15px; }
            .flash-info { background: #d1ecf1; color: #0c5460; padding: 10px; border-radius: 4px; margin-bottom: 15px; }
            .btn { display: inline-block; padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; text-decoration: none; font-size: 14px; }
            .btn-primary { background: #007bff; color: #fff; }
            .btn-danger { background: #dc3545; color: #fff; }
            .btn-secondary { background: #6c757d; color: #fff; }
            .btn-success { background: #28a745; color: #fff; }
            .form-group { margin-bottom: 15px; }
            .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
            .form-group input, .form-group textarea { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
            .form-error { color: #dc3545; font-size: 13px; margin-top: 3px; }
            .card { background: #fff; border-radius: 8px; padding: 15px; margin-bottom: 15px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
            .avatar { width: 50px; height: 50px; border-radius: 50%; object-fit: cover; background: #ddd; }
            .badge { background: #dc3545; color: #fff; border-radius: 50%; padding: 2px 7px; font-size: 12px; }
            .pagination { display: flex; gap: 5px; justify-content: center; margin: 20px 0; }
            .pagination a, .pagination span { padding: 5px 10px; border: 1px solid #ccc; border-radius: 4px; text-decoration: none; color: #333; }
            .pagination span.current { background: #007bff; color: #fff; border-color: #007bff; }
        </style>
        {% block stylesheets %}{% endblock %}
    </head>
    <body>
        <nav>
            <a href="/">Social Profile</a>
            <span class="spacer"></span>
            {% if app.user %}
                <a href="{{ path('app_users') }}">Users</a>
                <a href="{{ path('app_followers') }}">Followers</a>
                <a href="{{ path('app_following') }}">Following</a>
                <a href="{{ path('app_follow_requests') }}">
                    Requests
                    {% if pending_follow_count is defined and pending_follow_count > 0 %}
                        <span class="badge">{{ pending_follow_count }}</span>
                    {% endif %}
                </a>
                <a href="{{ path('app_profile_edit') }}">Profile</a>
                <a href="{{ path('app_logout') }}">Logout</a>
            {% else %}
                <a href="{{ path('app_login') }}">Login</a>
                <a href="{{ path('app_register') }}">Register</a>
            {% endif %}
        </nav>

        <div class="container">
            {% for label, messages in app.flashes %}
                {% for message in messages %}
                    <div class="flash-{{ label }}">{{ message }}</div>
                {% endfor %}
            {% endfor %}

            {% block body %}{% endblock %}
        </div>

        {% block javascripts %}{% endblock %}
    </body>
</html>
